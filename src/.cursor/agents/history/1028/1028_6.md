질문 (원본):
2025-10-28

질문: @# King - 건물주 (Building Owner) .cursorrules를 리팩토링 할거야.
1. 현재 작성되어 있는 것은 지우지 않고 계속 사용할거야. 하지만 너가 읽기 편하게 수정해줘.
2. 코드 컨벤션을 추가로 설정해
    - 기능 코드, 테스트 코드작성 시 타입스크립트를 사용해야해.
    - 함수 제작시 네이밍은 Camel case를 사용할 거고 해당 클래스를 번역기에 돌렸을때 한국어 번역이 직관적이로 가능하게 작성해, class 네이밍은 _를 활용해서 작성해라. 예시: section_1_title, section_1_text, section_1_flex_box처럼 내가 마우스로 더블 클릭 했을 때 해당 클래스를 선택할 수 있게끔 작성해라.
3. 여기에 작성된 규칙은 작업을 시작할때와 마무리할때 두번 검증해라. 해당 규칙을 잘 지키고 있는지.

위의 내용으로 .cursorrules를 리팩토링해줘.

답변:
건물주로서 `.cursorrules`를 체계적으로 리팩토링하고 확장했습니다.

## 📋 리팩토링 개요

### 주요 변경사항

#### 1. ✅ 구조 개선 - 읽기 쉽게 재구성

**Before**: 단순 나열 형식
**After**: 9개 섹션으로 체계화

```markdown
# ========================================
# CORE RULES - 핵심 규칙
# ========================================
1. TDD Methodology (CRITICAL)
2. Documentation & History
3. Agent System & Roles

# ========================================
# CODE CONVENTIONS - 코드 컨벤션
# ========================================
4. TypeScript Standards
5. Code Formatting (.prettierrc)
6. Import Order

# ========================================
# VALIDATION PROCESS - 검증 프로세스
# ========================================
7. Rule Validation Checkpoints
   - 7.1 작업 시작 시
   - 7.2 작업 마무리 시
   - 7.3 Validation Checklist Summary

# ========================================
# ADDITIONAL RULES & QUICK REFERENCE
# ========================================
8. Language & Communication
9. File Organization
```

#### 2. ✅ 코드 컨벤션 추가

### 4.1 TypeScript 필수 사용

```typescript
// ✅ 모든 기능 코드는 TypeScript로 작성
// ✅ 모든 테스트 코드도 TypeScript로 작성
// ❌ any 타입 사용 금지 (불가피한 경우 주석 설명)
```

### 4.2 함수 네이밍: camelCase + 한국어 번역 직관적

**Good Examples** (✅):
```typescript
function getUserData() { }        // "사용자 데이터를 가져온다"
function createEvent() { }        // "이벤트를 생성한다"
function validateTimeRange() { }  // "시간 범위를 검증한다"
function sendNotification() { }   // "알림을 전송한다"
```

**Bad Examples** (❌):
```typescript
function getData() { }    // ❌ 너무 모호함
function handle() { }     // ❌ 무엇을 handle하는지 불명확
function x() { }          // ❌ 의미 전달 불가
```

**네이밍 가이드라인**:
1. 동사 + 명사 조합
2. 한국어 번역 시 자연스러운지 확인
3. Boolean 함수는 `is`, `has`, `should`, `can`으로 시작
4. 이벤트 핸들러는 `handle` 또는 `on` 접두사

### 4.3 클래스 네이밍: snake_case + 더블 클릭 선택 가능

**Good Examples** (✅):
```css
.section_1_title { }
.section_1_text { }
.section_1_flex_box { }
.header_nav_menu { }
.modal_close_button { }
```

**Bad Examples** (❌):
```css
.section1Title { }     // ❌ camelCase (더블 클릭 시 일부만 선택)
.section-1-title { }   // ❌ kebab-case (더블 클릭 시 일부만 선택)
.s1t { }              // ❌ 의미 불명확
```

**왜 snake_case인가?**

```css
/* ✅ snake_case: 전체 선택됨 */
.section_1_title { }
/* 더블 클릭 → "section_1_title" 전체 선택 */

/* ❌ kebab-case: 일부만 선택됨 */
.section-1-title { }
/* 더블 클릭 → "section" 또는 "1" 또는 "title" 만 선택 */
```

**클래스 네이밍 가이드라인**:
1. 계층 구조 반영: `header_nav_menu_item`
2. 상태는 접두사: `is_active`, `is_disabled`, `has_error`
3. 수정자는 접미사: `button_primary`, `text_large`
4. BEM 스타일 응용 가능

#### 3. ✅ 검증 프로세스 추가

### 7.1 작업 시작 시 (Before Starting Work)

**필수 확인 사항**:
1. TDD 가이드 확인 (`tdd.md` 읽기)
2. 관련 문서 확인 (`checklist.md`, `test-guidelines.md`)
3. 역할 확인 (`people/*.md` 파일)
4. 코드 컨벤션 상기

### 7.2 작업 마무리 시 (Before Finishing Work)

**필수 검증 항목**:
1. **TypeScript 검증**: `npm run lint:tsc`
   - 타입 오류 없음
   - `any` 타입 사용 확인
   - 타입 정의 명확성

2. **네이밍 컨벤션 검증**:
   - 모든 함수가 camelCase인지
   - 함수명을 한국어로 번역했을 때 직관적인지
   - 모든 CSS 클래스가 snake_case인지
   - 클래스명 더블 클릭으로 전체 선택 가능한지

3. **코드 포맷팅 검증**: `npm run lint:eslint`
   - Prettier 규칙 준수
   - Import 순서 올바른지
   - LF 줄바꿈 사용 (CRLF 아님)

4. **테스트 검증**: `npm test -- --run`
   - 모든 테스트 통과
   - 새로운 기능 테스트 작성 완료
   - 테스트 커버리지 확인

5. **TDD 사이클 완료 확인**:
   - Red → Green → Refactor 완료

6. **문서화 확인**:
   - 히스토리 파일 저장
   - 복잡한 로직 주석
   - 영어 + 한국어 해석 주석

7. **커밋 전 최종 체크**:
   ```bash
   git diff --check
   npm run lint
   npm test -- --run
   ```

### 7.3 Validation Checklist Summary

**작업 시작 전** (Before):
- [ ] TDD 가이드 읽기
- [ ] 관련 문서 확인
- [ ] 역할 파일 확인
- [ ] 코드 컨벤션 상기

**작업 완료 후** (After):
- [ ] TypeScript 검증
- [ ] 네이밍 컨벤션 확인
- [ ] 한국어 번역 직관성 확인
- [ ] 코드 포맷팅 검증
- [ ] 테스트 통과
- [ ] TDD 사이클 완료
- [ ] 문서화 완료
- [ ] 커밋 전 최종 체크

#### 4. ✅ Quick Reference 섹션 추가

커밋 전 빠르게 확인할 수 있는 체크리스트:

**함수 네이밍 체크리스트**:
- [ ] camelCase 사용?
- [ ] 동사 + 명사 조합?
- [ ] 한국어로 번역했을 때 자연스러운가?
- [ ] Boolean 함수는 `is`/`has`/`can`/`should`로 시작?

**클래스 네이밍 체크리스트**:
- [ ] snake_case 사용?
- [ ] 더블 클릭으로 전체 선택 가능?
- [ ] 의미가 명확한가?
- [ ] 계층 구조 반영?

**커밋 전 체크리스트**:
```bash
git diff --check
npm run lint:tsc
npm run lint:eslint
npm test -- --run
npm run lint:eslint -- --fix
```

## 📊 개선 효과

### Before (기존)
- 22줄
- 단순 나열
- 코드 컨벤션 부족
- 검증 프로세스 없음

### After (개선)
- 460+ 줄
- 9개 섹션으로 체계화
- 상세한 코드 컨벤션
- 명확한 검증 프로세스
- 예제 코드 포함
- Quick Reference 제공

## 🎯 핵심 개선사항

1. **가독성 향상**
   - 명확한 섹션 구분
   - 시각적 구분선
   - 일관된 번호 체계
   - 영어/한국어 이중 언어

2. **실용성 증가**
   - 구체적인 예제 (Good/Bad)
   - 커맨드라인 명령어 포함
   - 체크리스트 제공
   - Quick Reference

3. **검증 가능성**
   - 작업 시작/마무리 체크포인트
   - 구체적인 검증 항목
   - 자동화 명령어
   - 체크리스트 형식

4. **교육 효과**
   - 왜 특정 규칙을 사용하는지 설명
   - snake_case vs kebab-case 비교
   - 네이밍 가이드라인 제공
   - 실제 사용 예제

## ✅ 사용 방법

### 작업 시작 시
1. `.cursorrules` 열기
2. "CORE RULES" 섹션 읽기
3. "작업 시작 시" 체크리스트 확인
4. 해당 코드 컨벤션 숙지

### 코드 작성 중
1. 함수 작성 시: 4.2 Function Naming Convention 참조
2. CSS 작성 시: 4.3 CSS Class Naming Convention 참조
3. 의심스러울 때: Quick Reference 확인

### 작업 완료 시
1. "작업 마무리 시" 체크리스트 실행
2. 각 검증 항목 순서대로 확인
3. 모든 항목 통과 후 커밋

## 📚 관련 문서

이제 `.cursorrules`와 함께 다음 문서들이 체계적으로 연결됩니다:

- `src/.cursor/agents/doc/tdd.md` - TDD 가이드
- `src/.cursor/agents/doc/checklist.md` - 커밋 전 체크리스트
- `src/.cursor/agents/doc/test-guidelines.md` - 테스트 작성 가이드
- `src/.cursor/agents/people/*.md` - 역할별 가이드

**이제 모든 작업은 시작과 끝에서 이 규칙으로 검증됩니다!** 🚀

