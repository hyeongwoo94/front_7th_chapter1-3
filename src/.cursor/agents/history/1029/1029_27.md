ì§ˆë¬¸ (ì›ë³¸):
2025-10-29

ì§ˆë¬¸: ìº˜ë¦°ë”ì— ë§¤ì¼, ë§¤ì£¼, ë§¤ì›”, ë§¤ë…„ í‘œì‹œë˜ëŠ” ì•„ì´ì½˜ì„ ê°ê° ë‹¤ë¥¸ê±¸ë¡œ í•´ì¤˜

ë‹µë³€:

## ë°˜ë³µ íƒ€ì…ë³„ ì•„ì´ì½˜ ì°¨ë³„í™” ì™„ë£Œ âœ…

### ì‘ì—… ê°œìš”
- **ì‘ì—… ìœ í˜•**: UI ê°œì„  - ë°˜ë³µ íƒ€ì…ë³„ ì•„ì´ì½˜ ì°¨ë³„í™”
- **êµ¬í˜„ ë‚ ì§œ**: 2025-10-29
- **Worker ì—­í• **: Tools (ë…¸ë™ì)

### ì‚¬ìš©ì ìš”ì²­

**í˜„ì¬ ìƒí™©:**
- ëª¨ë“  ë°˜ë³µ ì¼ì •ì— ë™ì¼í•œ `Repeat` ì•„ì´ì½˜ í‘œì‹œ

**ìš”êµ¬ì‚¬í•­:**
- ë§¤ì¼(daily), ë§¤ì£¼(weekly), ë§¤ì›”(monthly), ë§¤ë…„(yearly) ê°ê° ë‹¤ë¥¸ ì•„ì´ì½˜ ì‚¬ìš©
- ì‚¬ìš©ìê°€ ë°˜ë³µ íƒ€ì…ì„ í•œëˆˆì— êµ¬ë¶„í•  ìˆ˜ ìˆë„ë¡

### ì•„ì´ì½˜ ë§¤í•‘

| ë°˜ë³µ íƒ€ì… | ì•„ì´ì½˜ ì»´í¬ë„ŒíŠ¸ | ì„¤ëª… |
|---------|---------------|-----|
| `daily` | `Today` | ì˜¤ëŠ˜/ë§¤ì¼ì„ ë‚˜íƒ€ë‚´ëŠ” ìº˜ë¦°ë” ì•„ì´ì½˜ |
| `weekly` | `CalendarViewWeek` | ì£¼ê°„ ë·°ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ìº˜ë¦°ë” ì•„ì´ì½˜ |
| `monthly` | `CalendarMonth` | ì›”ê°„ ë·°ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ìº˜ë¦°ë” ì•„ì´ì½˜ |
| `yearly` | `Event` | ì—°ê°„ ì´ë²¤íŠ¸ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì•„ì´ì½˜ |
| `none` | (í‘œì‹œ ì•ˆ ë¨) | ì¼ë°˜ ì¼ì •ì€ ì•„ì´ì½˜ ì—†ìŒ |
| default | `Repeat` | ê¸°íƒ€ íƒ€ì… (fallback) |

### êµ¬í˜„ ë‚´ìš©

#### 1. `src/App.tsx` ìˆ˜ì •

**ì•„ì´ì½˜ import ì¶”ê°€ (Line 8-11):**
```typescript
import Today from '@mui/icons-material/Today';
import CalendarViewWeek from '@mui/icons-material/CalendarViewWeek';
import CalendarMonth from '@mui/icons-material/CalendarMonth';
import EventIcon from '@mui/icons-material/Event';
```

**âš ï¸ ì¤‘ìš” ë…¸íŠ¸:**
- `Event`ëŠ” TypeScript DOM `Event` íƒ€ì…ê³¼ ì¶©ëŒí•˜ë¯€ë¡œ `EventIcon`ìœ¼ë¡œ import
- ì´ˆê¸°ì—ëŠ” `import { Event as EventIcon } from '@mui/icons-material'`ë¡œ ì‹œë„í–ˆìœ¼ë‚˜ Windowsì—ì„œ íŒŒì¼ í•¸ë“¤ ì œí•œ ë¬¸ì œ ë°œìƒ (EMFILE: too many open files)
- ìµœì¢…ì ìœ¼ë¡œ `import EventIcon from '@mui/icons-material/Event'`ë¡œ í•´ê²°í•˜ì—¬ íŠ¹ì • ì•„ì´ì½˜ë§Œ ë¡œë“œ

**í—¬í¼ í•¨ìˆ˜ ìƒì„± (Line 82-99):**
```typescript
/**
 * Get appropriate icon component based on repeat type
 * ë°˜ë³µ íƒ€ì…ì— ë”°ë¼ ì ì ˆí•œ ì•„ì´ì½˜ ì»´í¬ë„ŒíŠ¸ ë°˜í™˜
 */
const getRepeatIcon = (repeatType: RepeatType) => {
  switch (repeatType) {
    case 'daily':
      return Today;
    case 'weekly':
      return CalendarViewWeek;
    case 'monthly':
      return CalendarMonth;
    case 'yearly':
      return EventIcon;
    default:
      return Repeat;
  }
};
```

**renderWeekView ìˆ˜ì • (Line 358-361):**
```typescript
// Before
{event.repeat.type !== 'none' && (
  <Repeat fontSize="small" data-testid="RepeatIcon" />
)}

// After
{event.repeat.type !== 'none' && (() => {
  const RepeatIconComponent = getRepeatIcon(event.repeat.type);
  return <RepeatIconComponent fontSize="small" data-testid="RepeatIcon" />;
})()}
```

**renderMonthView ìˆ˜ì • (Line 449-452):**
```typescript
// Before
{event.repeat.type !== 'none' && (
  <Repeat fontSize="small" data-testid="RepeatIcon" />
)}

// After
{event.repeat.type !== 'none' && (() => {
  const RepeatIconComponent = getRepeatIcon(event.repeat.type);
  return <RepeatIconComponent fontSize="small" data-testid="RepeatIcon" />;
})()}
```

### ê¸°ìˆ ì  êµ¬í˜„ ì„¸ë¶€ì‚¬í•­

#### IIFE (Immediately Invoked Function Expression) ì‚¬ìš©

**ì´ìœ :**
- JSX ë‚´ì—ì„œ ë³µì¡í•œ ë¡œì§ì„ ê°„ê²°í•˜ê²Œ í‘œí˜„
- `getRepeatIcon()`ì˜ ë°˜í™˜ê°’(ì»´í¬ë„ŒíŠ¸ íƒ€ì…)ì„ ì¦‰ì‹œ ì‚¬ìš©

**êµ¬ì¡°:**
```typescript
{condition && (() => {
  const Component = getFunction();
  return <Component props />;
})()}
```

**ì¥ì :**
1. ë³€ìˆ˜ ì„ ì–¸ê³¼ ì‚¬ìš©ì„ í•œ ê³³ì—ì„œ ì²˜ë¦¬
2. JSX ê°€ë…ì„± ìœ ì§€
3. íƒ€ì… ì•ˆì •ì„± ë³´ì¥

#### íƒ€ì… ì•ˆì •ì„±

**getRepeatIcon ë°˜í™˜ íƒ€ì…:**
```typescript
// React component constructor type
typeof Today | typeof CalendarViewWeek | typeof CalendarMonth | typeof Event | typeof Repeat
```

**ë Œë”ë§:**
```typescript
const RepeatIconComponent = getRepeatIcon(event.repeat.type);
// RepeatIconComponentëŠ” React component constructor
<RepeatIconComponent fontSize="small" data-testid="RepeatIcon" />
// JSXì—ì„œ ì»´í¬ë„ŒíŠ¸ë¡œ ë Œë”ë§
```

### ê²€ì¦ ê²°ê³¼

#### TypeScript ê²€ì¦ âœ…
```bash
npm run lint:tsc
âœ“ No errors
```

#### ì „ì²´ í…ŒìŠ¤íŠ¸ âœ…
```bash
npm test -- --run
âœ“ Test Files: 14 passed (14)
âœ“ Tests: 137 passed (137)
Duration: 24.69s
```

**í…ŒìŠ¤íŠ¸ ì˜í–¥ ë¶„ì„:**
- `data-testid="RepeatIcon"`ì€ ìœ ì§€ë¨
- ê¸°ì¡´ í…ŒìŠ¤íŠ¸ ì½”ë“œ ìˆ˜ì • ë¶ˆí•„ìš”
- ì•„ì´ì½˜ íƒ€ì…ë§Œ ë³€ê²½ë˜ì–´ í…ŒìŠ¤íŠ¸ ë™ì‘ì— ì˜í–¥ ì—†ìŒ

### ì‚¬ìš©ì ê²½í—˜ ê°œì„ 

#### Before (ì´ì „)
```
ì£¼ê°„ íšŒì˜ ğŸ”  (ë§¤ì£¼)
ì¼ì¼ ë¯¸íŒ… ğŸ”  (ë§¤ì¼)
ì›”ê°„ ì ê²€ ğŸ”  (ë§¤ì›”)
```
â†’ ëª¨ë“  ë°˜ë³µ ì¼ì •ì´ ë™ì¼í•œ ì•„ì´ì½˜ìœ¼ë¡œ êµ¬ë¶„ ë¶ˆê°€

#### After (í˜„ì¬)
```
ì£¼ê°„ íšŒì˜ ğŸ“…  (ë§¤ì£¼ - CalendarViewWeek)
ì¼ì¼ ë¯¸íŒ… ğŸ“†  (ë§¤ì¼ - Today)
ì›”ê°„ ì ê²€ ğŸ—“ï¸  (ë§¤ì›” - CalendarMonth)
```
â†’ ê° ë°˜ë³µ íƒ€ì…ì„ ì•„ì´ì½˜ìœ¼ë¡œ ì¦‰ì‹œ êµ¬ë¶„ ê°€ëŠ¥

### ì½”ë“œ í’ˆì§ˆ

**ì¬ì‚¬ìš©ì„±:**
- `getRepeatIcon()` í—¬í¼ í•¨ìˆ˜ë¡œ ì¤‘ë³µ ì œê±°
- renderWeekViewì™€ renderMonthViewì—ì„œ ë™ì¼í•œ ë¡œì§ ì‚¬ìš©

**ìœ ì§€ë³´ìˆ˜ì„±:**
- ìƒˆë¡œìš´ ë°˜ë³µ íƒ€ì… ì¶”ê°€ ì‹œ `getRepeatIcon()` í•¨ìˆ˜ë§Œ ìˆ˜ì •
- ì•„ì´ì½˜ ë³€ê²½ í•„ìš” ì‹œ í•œ ê³³ì—ì„œ ê´€ë¦¬

**íƒ€ì… ì•ˆì •ì„±:**
- `RepeatType` íƒ€ì…ì— ê¸°ë°˜í•œ switch ë¬¸
- TypeScriptê°€ ëˆ„ë½ëœ case ê°ì§€ ê°€ëŠ¥

### í–¥í›„ ê°œì„  ê°€ëŠ¥ ì‚¬í•­

#### 1. Tooltip ì¶”ê°€
```typescript
<Tooltip title={`${getRepeatLabel(event.repeat.type)} ì¼ì •`}>
  <RepeatIconComponent fontSize="small" data-testid="RepeatIcon" />
</Tooltip>
```

#### 2. ìƒ‰ìƒ ì°¨ë³„í™”
```typescript
const getRepeatIconColor = (repeatType: RepeatType) => {
  switch (repeatType) {
    case 'daily': return 'primary';
    case 'weekly': return 'secondary';
    case 'monthly': return 'success';
    case 'yearly': return 'warning';
    default: return 'action';
  }
};
```

#### 3. ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼
```typescript
<RepeatIconComponent 
  fontSize="small" 
  sx={{ 
    animation: 'pulse 2s infinite',
    '@keyframes pulse': {
      '0%, 100%': { opacity: 1 },
      '50%': { opacity: 0.5 }
    }
  }}
/>
```

### ì˜í–¥ ë²”ìœ„

**ë³€ê²½ëœ ë™ì‘:**
- ë°˜ë³µ ì¼ì • ì•„ì´ì½˜ì´ íƒ€ì…ì— ë”°ë¼ ë‹¤ë¥´ê²Œ í‘œì‹œë¨

**ìœ ì§€ëœ ë™ì‘:**
- ì¼ë°˜ ì¼ì •ì€ ì•„ì´ì½˜ ì—†ìŒ
- `data-testid="RepeatIcon"` ìœ ì§€ë¡œ í…ŒìŠ¤íŠ¸ í˜¸í™˜ì„± ìœ ì§€
- ì•„ì´ì½˜ í¬ê¸° (`fontSize="small"`) ë™ì¼
- ë ˆì´ì•„ì›ƒ ë° ìŠ¤íƒ€ì¼ ë³€ê²½ ì—†ìŒ

**ì˜í–¥ë°›ì§€ ì•ŠëŠ” ë¶€ë¶„:**
- ì¼ì • CRUD ê¸°ëŠ¥
- ì¼ì • ê²¹ì¹¨ ì²˜ë¦¬
- ê²€ìƒ‰ ê¸°ëŠ¥
- ì•Œë¦¼ ê¸°ëŠ¥
- ë°˜ë³µ ì¼ì • ìˆ˜ì • (ë‹¨ì¼/ì „ì²´ ì„ íƒ)

### ë¬¸ì œ í•´ê²° ê³¼ì •

#### ì´ìŠˆ 1: Event íƒ€ì… ì¶©ëŒ
**ë¬¸ì œ:**
- `import Event from '@mui/icons-material/Event'` ì‚¬ìš© ì‹œ TypeScript DOM `Event` íƒ€ì…ê³¼ ì¶©ëŒ
- 16ê°œì˜ íƒ€ì… ì—ëŸ¬ ë°œìƒ

**í•´ê²°:**
- `import EventIcon from '@mui/icons-material/Event'`ë¡œ ë³€ê²½
- íƒ€ì… ì¶©ëŒ ì™„ì „íˆ í•´ê²°

#### ì´ìŠˆ 2: íŒŒì¼ í•¸ë“¤ ì œí•œ (EMFILE)
**ë¬¸ì œ:**
- `import { Event as EventIcon } from '@mui/icons-material'` ì‚¬ìš© ì‹œ
- Windowsì—ì„œ "too many open files" ì—ëŸ¬ ë°œìƒ
- ì „ì²´ ì•„ì´ì½˜ íŒ¨í‚¤ì§€ ë¡œë“œë¡œ ì¸í•œ íŒŒì¼ í•¸ë“¤ ê³¼ë‹¤ ì‚¬ìš©

**í•´ê²°:**
- `import EventIcon from '@mui/icons-material/Event'`ë¡œ íŠ¹ì • ì•„ì´ì½˜ë§Œ import
- íŒŒì¼ í•¸ë“¤ ë¬¸ì œ í•´ê²°
- í…ŒìŠ¤íŠ¸ ì •ìƒ í†µê³¼ (137/137)

### ê´€ë ¨ íŒŒì¼
- **History**: `src/.cursor/agents/history/1029/1029_25.md` (ë°˜ë³µ ì¼ì • ìˆ˜ì • ê¸°ëŠ¥)
- **History**: `src/.cursor/agents/history/1029/1029_26.md` (ê²¹ì¹¨ í—ˆìš© ê·œì¹™ ë³€ê²½)

