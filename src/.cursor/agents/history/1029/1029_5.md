질문 (원본):
2025-10-29

질문: @# Memory - 세월이 (Time Keeper) 
1. 코드의 양을 무조건 1000줄로 맞출 필요는 없다. 중복검사를 1000줄 이상일때 하라는 말이다.
2. 만약 중복된게 없는데도 코드가 1000줄이 넘어간다면 그다음 중복검사는 2000줄에서하고 또 중복된게 없는데 코드가 2000줄이 넘어간다면 3000줄일때 중복검사를해라.

답변:

# Memory 패턴 수정 - 동적 임계값 적용

## 🎯 변경 사항
- **Before**: 무조건 1000줄 이하로 축소 (80-90% 감소 목표)
- **After**: 중복만 제거, 임계값은 동적 증가
- **결과**: 중복이 없으면 파일 크기를 유지하고 다음 검사 임계값만 증가

## 📋 주요 변경

### Pattern 1: Dynamic Memory Home Cleanup

**임계값 조정 규칙**:
- 초기 임계값: 1000줄
- 중복 발견 및 제거 시 → 다음 임계값 1000줄 유지 (리셋)
- 중복 없음 시 → 다음 임계값 +1000줄 증가
  - 1차 (1000줄): 중복 없음 → 다음 2000줄
  - 2차 (2000줄): 중복 없음 → 다음 3000줄
  - 3차 (3000줄): 중복 없음 → 다음 4000줄

**프로세스**:
1. 중복 감지
2. **중복 존재 여부 확인**
   - 중복 없음 → 정리 건너뛰기, 임계값 증가
   - 중복 발견 → 정리 진행
3. 내용 통합 (중복 발견 시만)
4. 핵심 패턴 추출 (중복 발견 시만)
5. 카테고리 재구성 (중복 발견 시만)

**목표**: 중복만 제거 (임의의 크기로 축소 X)

### 예시 시나리오

**시나리오 1: 중복 발견**
```
Before: 2681줄 (중복 많음)
After: 400줄 (중복 제거)
감소: 85%
다음 임계값: 1000줄 (리셋)
```

**시나리오 2: 중복 없음**
```
현재: 1200줄 (중복 없음)
액션: 정리 건너뛰기
다음 임계값: 2000줄 (증가)
```

**시나리오 3: 계속 중복 없음**
```
현재: 2100줄 (중복 없음)
액션: 정리 건너뛰기
다음 임계값: 3000줄 (증가)
```

## 📂 수정 파일
- `src/.cursor/agents/people/memory.md` (Pattern 1 동적 임계값 로직 추가)
- `src/.cursor/agents/history/1029/1029_5.md` (간결한 형식)

## ✅ 결과
- 동적 임계값 시스템 구축
- 중복 없으면 파일 크기 유지
- 불필요한 정리 작업 방지
- 자연스러운 성장 허용

